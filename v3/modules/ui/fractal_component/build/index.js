/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("streamlit-component-lib")):"function"==typeof define&&define.amd?define(["streamlit-component-lib"],t):"object"==typeof exports?exports.FractalNavigation=t(require("streamlit-component-lib")):e.FractalNavigation=t(e["streamlit-component-lib"])}(self,e=>(()=>{var t={289:t=>{"use strict";t.exports=e},785:()=>{function e(){var o,n,r="function"==typeof Symbol?Symbol:{},l=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function i(e,r,l,a){var i=r&&r.prototype instanceof s?r:s,d=Object.create(i.prototype);return t(d,"_invoke",function(e,t,r){var l,a,i,s=0,d=r||[],f=!1,u={p:0,n:0,v:o,a:y,f:y.bind(o,4),d:function(e,t){return l=e,a=0,i=o,u.n=t,c}};function y(e,t){for(a=e,i=t,n=0;!f&&s&&!r&&n<d.length;n++){var r,l=d[n],y=u.p,g=l[2];e>3?(r=g===t)&&(i=l[(a=l[4])?5:(a=3,3)],l[4]=l[5]=o):l[0]<=y&&((r=e<2&&y<l[1])?(a=0,u.v=t,u.n=l[1]):y<g&&(r=e<3||l[0]>t||t>g)&&(l[4]=e,l[5]=t,u.n=g,a=0))}if(r||e>1)return c;throw f=!0,t}return function(r,d,g){if(s>1)throw TypeError("Generator is already running");for(f&&1===d&&y(d,g),a=d,i=g;(n=a<2?o:i)||!f;){l||(a?a<3?(a>1&&(u.n=-1),y(a,i)):u.n=i:u.v=i);try{if(s=2,l){if(a||(r="next"),n=l[r]){if(!(n=n.call(l,i)))throw TypeError("iterator result is not an object");if(!n.done)return n;i=n.value,a<2&&(a=0)}else 1===a&&(n=l.return)&&n.call(l),a<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),a=1);l=o}else if((n=(f=u.n<0)?i:e.call(t,u))!==c)break}catch(e){l=o,a=1,i=e}finally{s=1}}return{value:n,done:f}}}(e,l,a),!0),d}var c={};function s(){}function d(){}function f(){}n=Object.getPrototypeOf;var u=[][l]?n(n([][l]())):(t(n={},l,function(){return this}),n),y=f.prototype=s.prototype=Object.create(u);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,t(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e}return d.prototype=f,t(y,"constructor",f),t(f,"constructor",d),d.displayName="GeneratorFunction",t(f,a,"GeneratorFunction"),t(y),t(y,a,"Generator"),t(y,l,function(){return this}),t(y,"toString",function(){return"[object Generator]"}),(e=function(){return{w:i,m:g}})()}function t(e,o,n,r){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}t=function(e,o,n,r){function a(o,n){t(e,o,function(e){return this._invoke(o,n,e)})}o?l?l(e,o,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[o]=n:(a("next",0),a("throw",1),a("return",2))},t(e,o,n,r)}function o(e,t,o,n,r,l,a){try{var i=e[l](a),c=i.value}catch(e){return void o(e)}i.done?t(c):Promise.resolve(c).then(n,r)}var n={},r="TR",l=["TR"],a=new Set,i=!1,c=null,s=!1,d=Math.round(42);function f(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function u(e){return 1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2)}var y=null,g=null,h=0,p=0,v=[],A=0,x=0;function m(){var e=document.querySelector(".fractal-container");e?(h=e.clientWidth||800,p=e.clientHeight||600,y&&(y.width=h,y.height=p),A=h/2,x=p/2,console.log("[FRACTAL] âœ… Canvas resized:",h,"x",p)):console.warn("[FRACTAL] Container not found for resize")}function b(){if(!s){console.log("[FRACTAL] ğŸ”„ Update called for node:",r);var e,t,o,a,c=n[r];if(!c)return console.error("[FRACTAL] âŒ Node not found:",r),void(g&&(g.fillStyle="#1a1a2e",g.fillRect(0,0,h,p),g.fillStyle="#ef4444",g.font="bold 24px sans-serif",g.textAlign="center",g.textBaseline="middle",g.fillText("Erreur: DonnÃ©es non disponibles",A,x)));i=function(e){var t,o=l.length-1,n=r;return console.log("[FRACTAL] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),console.log("[FRACTAL] isLastLevel() Check:"),console.log("[FRACTAL]   navigationStack:",l),console.log("[FRACTAL]   currentLevel:",o),console.log("[FRACTAL]   currentNode:",n),console.log("[FRACTAL]   node.children:",(null==e||null===(t=e.children)||void 0===t?void 0:t.length)||0),o>=2?(console.log("[FRACTAL] âœ… Niveau",o,"â†’ MODE SÃ‰LECTION"),console.log("[FRACTAL] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),!0):(console.log("[FRACTAL] âŒ Niveau",o,"â†’ MODE NAVIGATION"),console.log("[FRACTAL] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"),!1)}(c),console.log("[FRACTAL] Mode sÃ©lection:",i),function(e){var t=l.length,o=e.total||e.amount||0,n=e.children?e.children.length:0,r=(t/3).toFixed(1),a=document.getElementById("levelDisplay"),i=document.getElementById("totalDisplay"),c=document.getElementById("categoriesDisplay"),s=document.getElementById("zoomDisplay");if(a&&(a.textContent=t),i&&(i.textContent=B(o)),c&&(c.textContent=n),s&&(s.textContent=r+"x"),a){var d=1===t?"#10b981":2===t?"#f59e0b":"#ef4444";a.style.color=d}}(c),e=l.map(function(e){var t=n[e];return t?t.label:e}).join(" â†’ "),(t=document.getElementById("breadcrumbText"))&&(t.innerHTML=e),o=l.length/3*100,(a=document.getElementById("zoomProgress"))&&(a.style.width=o+"%"),d=document.getElementById("backBtn"),f=document.getElementById("resetBtn"),d&&(d.disabled=l.length<=1),f&&(f.disabled="TR"===r),T(c),O()}var d,f}function T(e){if(g&&y){console.log("[FRACTAL] ğŸ¨ Rendering node:",e.code,"with",(e.children||[]).length,"children"),g.fillStyle="rgba(15, 23, 42, 0.05)",g.fillRect(0,0,h,p),v=[];var t,o,l=(e.children||[]).length;0!==l?(1===l?(t=e.children[0],o=150*Math.sqrt(3)/2,v=[{p1:{x:A-75,y:x+o/2},p2:{x:A+75,y:x+o/2},p3:{x:A,y:x-o/2},code:t}]):v=2===l?function(e){var t=120,o=t*Math.sqrt(3)/2,n=100;return[{p1:{x:A-n-60,y:x+o/2},p2:{x:A-n+60,y:x+o/2},p3:{x:A-n,y:x-o/2},code:e.children[0]},{p1:{x:A+n-60,y:x+o/2},p2:{x:A+n+60,y:x+o/2},p3:{x:A+n,y:x-o/2},code:e.children[1]}]}(e):3===l?function(e){var t=100,o=t*Math.sqrt(3)/2;return[{p1:{x:A-t,y:x+o/2},p2:{x:A,y:x+o/2},p3:{x:A-50,y:x-o/2},code:e.children[0]},{p1:{x:A,y:x+o/2},p2:{x:A+t,y:x+o/2},p3:{x:A+50,y:x-o/2},code:e.children[1]},{p1:{x:A-50,y:x-o/2},p2:{x:A+50,y:x-o/2},p3:{x:A,y:x-o-50},code:e.children[2]}]}(e):4===l?function(e){var t=90,o=t*Math.sqrt(3)/2,n=70;return[{p1:{x:A-45,y:x-n-o/2},p2:{x:A+45,y:x-n-o/2},p3:{x:A,y:x-n-o-40},code:e.children[0]},{p1:{x:A+n-45,y:x+o/2},p2:{x:A+n+45,y:x+o/2},p3:{x:A+n,y:x-o/2},code:e.children[1]},{p1:{x:A-45,y:x+n+o/2},p2:{x:A+45,y:x+n+o/2},p3:{x:A,y:x+n-o/2},code:e.children[2]},{p1:{x:A-n-45,y:x+o/2},p2:{x:A-n+45,y:x+o/2},p3:{x:A-n,y:x-o/2},code:e.children[3]}]}(e):5===l?function(e){for(var t=80*Math.sqrt(3)/2,o=[],n=0;n<5;n++){var r=2*n*Math.PI/5-Math.PI/2,l=A+120*Math.cos(r),a=x+120*Math.sin(r);o.push({p1:{x:l-40,y:a+t/2},p2:{x:l+40,y:a+t/2},p3:{x:l,y:a-t/2},code:e.children[n]})}return o}(e):6===l?function(e){for(var t=80*Math.sqrt(3)/2,o=[],n=[],r=0;r<6;r++){var l=2*r*Math.PI/6,a=A+130*Math.cos(l),i=x+130*Math.sin(l);n.push({cx:a,cy:i}),o.push({p1:{x:a-40,y:i+t/2},p2:{x:a+40,y:i+t/2},p3:{x:a,y:i-t/2},code:e.children[r]})}g.strokeStyle="rgba(148, 163, 184, 0.2)",g.setLineDash([5,5]),g.lineWidth=1;for(var c=0;c<n.length;c++){var s=(c+1)%n.length;g.beginPath(),g.moveTo(n[c].cx,n[c].cy),g.lineTo(n[s].cx,n[s].cy),g.stroke()}return g.setLineDash([]),o}(e):function(e){for(var t=e.children.length,o=Math.max(50,200/Math.sqrt(t)),n=o*Math.sqrt(3)/2,r=Math.min(200,50+15*t),l=[],a=0;a<t;a++){var i=2*a*Math.PI/t-Math.PI/2,c=A+Math.cos(i)*r,s=x+Math.sin(i)*r;l.push({p1:{x:c-o/2,y:s+n/2},p2:{x:c+o/2,y:s+n/2},p3:{x:c,y:s-n/2},code:e.children[a]})}return l}(e),console.log("[FRACTAL] ğŸ”º Generated",v.length,"triangles"),v.forEach(function(t,o){var r=e.children[o];!function(e,t,o){var n=e.p1,r=e.p2,l=e.p3,i=t&&a.has(t.code),s=c===o,d=(n.x+r.x+l.x)/3,f=(n.y+r.y+l.y)/3,u=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2));g.save(),g.shadowColor="rgba(0, 0, 0, 0.4)",g.shadowBlur=15,g.shadowOffsetX=0,g.shadowOffsetY=8,g.fillStyle="rgba(0, 0, 0, 0.3)",g.beginPath(),g.moveTo(n.x,n.y),g.lineTo(r.x,r.y),g.lineTo(l.x,l.y),g.closePath(),g.fill(),g.restore();var y=t?t.color:"#6b7280",h=g.createRadialGradient(d,f,0,d,f,.6*u),p=y.replace("#",""),v=parseInt(p.substr(0,2),16),A=parseInt(p.substr(2,2),16),x=parseInt(p.substr(4,2),16);if(h.addColorStop(0,"rgba(".concat(v+40,", ").concat(A+40,", ").concat(x+40,", 1)")),h.addColorStop(.4,"rgba(".concat(v+20,", ").concat(A+20,", ").concat(x+20,", 0.95)")),h.addColorStop(.7,"rgba(".concat(v,", ").concat(A,", ").concat(x,", 0.9)")),h.addColorStop(1,"rgba(".concat(Math.max(0,v-30),", ").concat(Math.max(0,A-30),", ").concat(Math.max(0,x-30),", 0.85)")),g.fillStyle=h,g.beginPath(),g.moveTo(n.x,n.y),g.lineTo(r.x,r.y),g.lineTo(l.x,l.y),g.closePath(),g.fill(),s||i){var m=g.createLinearGradient(d-.3*u,f-.3*u,d+.3*u,f+.3*u);m.addColorStop(0,"rgba(255, 255, 255, 0.3)"),m.addColorStop(.5,"rgba(255, 255, 255, 0.1)"),m.addColorStop(1,"rgba(255, 255, 255, 0)"),g.fillStyle=m,g.fill()}if(g.save(),i?(g.strokeStyle="#3b82f6",g.lineWidth=6,g.shadowBlur=25,g.shadowColor="#3b82f6",g.globalAlpha=.6,g.beginPath(),g.moveTo(n.x,n.y),g.lineTo(r.x,r.y),g.lineTo(l.x,l.y),g.closePath(),g.stroke(),g.globalAlpha=1,g.shadowBlur=15,g.lineWidth=3,g.strokeStyle="#60a5fa",g.stroke()):s?(g.strokeStyle="#fbbf24",g.lineWidth=3,g.shadowBlur=20,g.shadowColor="#fbbf24",g.globalAlpha=.8,g.beginPath(),g.moveTo(n.x,n.y),g.lineTo(r.x,r.y),g.lineTo(l.x,l.y),g.closePath(),g.stroke(),g.globalAlpha=1,g.shadowBlur=0,g.strokeStyle="rgba(255, 255, 255, 0.7)",g.lineWidth=2,g.stroke()):(g.strokeStyle="rgba(255, 255, 255, 0.3)",g.lineWidth=1.5,g.shadowBlur=5,g.shadowColor="rgba(255, 255, 255, 0.2)",g.beginPath(),g.moveTo(n.x,n.y),g.lineTo(r.x,r.y),g.lineTo(l.x,l.y),g.closePath(),g.stroke()),g.restore(),!i){g.save(),g.globalAlpha=.05,g.strokeStyle="#ffffff",g.lineWidth=.5;for(var b=0;b<5;b++){var T=d-.2*u+b*u*.1;g.beginPath(),g.moveTo(T,f-.2*u),g.lineTo(T,f+.2*u),g.stroke()}g.restore()}if(t){i&&(g.save(),g.shadowColor="#1e40af",g.shadowBlur=8,g.fillStyle="#60a5fa",g.font="bold 24px Arial",g.textAlign="center",g.textBaseline="middle",g.fillText("âœ“",d+20,f-20),g.restore()),g.save(),g.shadowColor="rgba(0, 0, 0, 0.5)",g.shadowBlur=4,g.shadowOffsetY=2,g.fillStyle="rgba(255, 255, 255, 0.95)",g.font="28px sans-serif",g.textAlign="center",g.textBaseline="middle",g.fillText({Revenus:"ğŸ’¼",DÃ©penses:"ğŸ›’",Salaire:"ğŸ’µ",Freelance:"ğŸ–¥ï¸",Investissement:"ğŸ“ˆ",Alimentation:"ğŸ”",Transport:"ğŸš—",Logement:"ğŸ ",SantÃ©:"âš•ï¸",Loisirs:"ğŸ®",Factures:"ğŸ“„",VÃªtements:"ğŸ‘•",Education:"ğŸ“š"}[t.label]||"ğŸ“",d,f-10),g.restore(),g.save(),g.font="bold 13px sans-serif",g.textAlign="center",g.textBaseline="middle",g.strokeStyle="rgba(0, 0, 0, 0.6)",g.lineWidth=3,g.strokeText(t.label,d,f+12),g.fillStyle="rgba(255, 255, 255, 0.95)",g.fillText(t.label,d,f+12),g.restore(),g.save();var C=t.amount||t.total;g.font="bold 12px monospace",g.textAlign="center",g.textBaseline="middle",g.shadowColor="#10b981",g.shadowBlur=8,g.fillStyle="#34d399",g.fillText(B(C),d,f+28),g.restore()}}(t,n[r],o)}),console.log("[FRACTAL] âœ… Render complete")):function(){if(g){var e=n[r],t=e.transactions||0;g.fillStyle="rgba(15, 23, 42, 0.5)",g.fillRect(0,0,h,p),g.fillStyle="#10b981",g.font="bold 20px sans-serif",g.textAlign="center",g.textBaseline="middle",g.fillText("".concat(e.label),A,x-30),g.fillStyle="#94a3b8",g.font="16px sans-serif",g.fillText("".concat(t," transaction(s)"),A,x+20),g.fillText(B(e.amount||0),A,x+50)}}()}else console.error("[FRACTAL] âŒ Canvas context not available")}function C(e){if(!s){var t=y.getBoundingClientRect(),o=e.clientX-t.left,l=e.clientY-t.top;console.log("[FRACTAL] ğŸ–±ï¸ Click at:",o,l);for(var a=0;a<v.length;a++){var c=v[a];if(E(o,l,c)){n[r];var d=c.code,f=n[d];if(console.log("[FRACTAL] âœ… Clicked triangle:",d),!f)break;return void(i?(console.log("[FRACTAL] Mode SÃ‰LECTION - Toggle:",d),R(d)):f.children&&f.children.length>0?(console.log("[FRACTAL] Mode NAVIGATION - Zoom:",d),w(d)):console.log("[FRACTAL] Feuille sans enfants - Pas de navigation"))}}console.log("[FRACTAL] âš ï¸  No triangle under click")}}function R(e){a.has(e)?(a.delete(e),console.log("[FRACTAL] ğŸ”´ DÃ©sÃ©lectionnÃ©:",e)):(a.add(e),console.log("[FRACTAL] ğŸŸ¢ SÃ©lectionnÃ©:",e)),console.log("[FRACTAL] SÃ©lections actuelles:",Array.from(a)),T(n[r]),O()}function L(e){for(var t=y.getBoundingClientRect(),o=e.clientX-t.left,l=e.clientY-t.top,a=null,i=null,s=0;s<v.length;s++){var d=v[s];if(E(o,l,d)){a=s,i=n[d.code];break}}c=a,y.style.cursor=null!==a?"pointer":"default";var f=document.getElementById("tooltip");if(i&&f){f.style.display="block",f.style.left=e.clientX-t.left+15+"px",f.style.top=e.clientY-t.top-10+"px";var u=i.amount||i.total,g=i.percentage||0;f.innerHTML='\n            <div class="label">'.concat(i.label,'</div>\n            <div class="value">').concat(B(u),'</div>\n            <div class="percentage">').concat(g.toFixed(1),"%</div>\n        ")}else f&&(f.style.display="none");T(n[r])}function F(){c=null;var e=document.getElementById("tooltip");e&&(e.style.display="none"),T(n[r])}function w(e){return S.apply(this,arguments)}function S(){var t;return t=e().m(function t(o){var i,c,y,v,m,C,R,L;return e().w(function(e){for(;;)switch(e.n){case 0:if(o&&!s){e.n=1;break}return e.a(2);case 1:console.log("[FRACTAL] ğŸ” Zooming to:",o),s=!0,i=0;case 2:if(!(i<d)){e.n=4;break}return c=f(i/d),g.fillStyle="rgba(15, 23, 42, ".concat(.05+.15*c,")"),g.fillRect(0,0,h,p),y=1+.3*c,v=.02*c,g.save(),g.globalAlpha=1-c,g.translate(A,x),g.scale(y,y),g.rotate(v),g.translate(-A,-x),g.filter="blur(".concat(3*c,"px)"),T(n[r]),g.filter="none",g.restore(),e.n=3,I(1e3/60);case 3:i++,e.n=2;break;case 4:l.push(o),r=o,console.log("[FRACTAL] âœ… Navigation vers",o),console.log("[FRACTAL] ğŸ“Œ Filtres conservÃ©s:",Array.from(a)),m=0;case 5:if(!(m<d)){e.n=7;break}return R=u(C=m/d),g.save(),g.globalAlpha=Math.min(1,C),L=.9+.1*R,g.translate(A,x),g.scale(L,L),g.translate(-A,-x),T(n[r]),g.restore(),e.n=6,I(1e3/60);case 6:m++,e.n=5;break;case 7:s=!1,console.log("[FRACTAL] âœ… Zoom complete"),b();case 8:return e.a(2)}},t)}),S=function(){var e=this,n=arguments;return new Promise(function(r,l){var a=t.apply(e,n);function i(e){o(a,r,l,i,c,"next",e)}function c(e){o(a,r,l,i,c,"throw",e)}i(void 0)})},S.apply(this,arguments)}function M(){if(!(l.length<=1||s)){console.log("[FRACTAL] â®ï¸ Going back"),s=!0,l.pop(),r=l[l.length-1],console.log("[FRACTAL] ğŸ“Œ Filtres conservÃ©s:",Array.from(a));for(var e=n[r],t=0;t<Math.floor(d/2);t++){var o=t/(d/2);g.globalAlpha=o,T(e),g.globalAlpha=1}s=!1,console.log("[FRACTAL] âœ… Back complete"),b()}}function k(){if("TR"!==r&&!s){console.log("[FRACTAL] ğŸ  Resetting to root"),l=["TR"],r="TR",a.clear(),console.log("[FRACTAL] ğŸ”„ SÃ©lection rÃ©initialisÃ©e"),s=!0;for(var e=0;e<d;e++){var t=e/d,o=1+.3*t;g.save(),g.globalAlpha=1-t,g.translate(A,x),g.scale(o,o),g.translate(-A,-x),T(n[r]),g.restore()}s=!1,console.log("[FRACTAL] âœ… Reset complete"),b()}}function E(e,t,o){var n=o.p1,r=o.p2,l=o.p3,a=(r.y-l.y)*(n.x-l.x)+(l.x-r.x)*(n.y-l.y);if(0===a)return!1;var i=((r.y-l.y)*(e-l.x)+(l.x-r.x)*(t-l.y))/a,c=((l.y-n.y)*(e-l.x)+(n.x-l.x)*(t-l.y))/a;return i>=0&&c>=0&&1-i-c>=0}function B(e){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0}).format(e)}function I(e){return new Promise(function(t){return setTimeout(t,e)})}function O(){var e={action:i?"selection":"navigation",currentNode:r,selectedNodes:Array.from(a),level:l.length,isSelectionMode:i};console.log("[FRACTAL] ğŸ“¤ Envoi Ã  Streamlit:",e);try{window.sessionStorage.setItem("fractal_state_v6",JSON.stringify(e)),window.localStorage.setItem("fractal_state_v6",JSON.stringify(e)),console.log("[FRACTAL] âœ… Ã‰tat sauvegardÃ© en storage")}catch(e){console.log("[FRACTAL] â„¹ï¸ Storage non disponible:",e)}if(void 0!==window.parent&&window.parent!==window)try{window.parent.postMessage({type:"fractal_state",data:e},"*"),console.log("[FRACTAL] ğŸ“¨ postMessage envoyÃ©")}catch(e){console.log("[FRACTAL] â„¹ï¸ postMessage non disponible")}try{var t=new CustomEvent("fractalStateChanged",{detail:e});document.dispatchEvent(t),console.log("[FRACTAL] ğŸ”” CustomEvent envoyÃ©")}catch(e){console.log("[FRACTAL] â„¹ï¸ CustomEvent non disponible")}!function(){if(4===l.length&&a.size>0){console.log("[FRACTAL-AUTO-SYNC] âœ… Niveau 3 dÃ©tectÃ© avec sÃ©lections"),console.log("[FRACTAL-AUTO-SYNC] SÃ©lections:",Array.from(a));try{var e=Array.from(a).join(","),t=window.location.pathname+"?fractal_selections="+encodeURIComponent(e);console.log("[FRACTAL-AUTO-SYNC] ğŸ”„ Mise Ã  jour automatique de l'URL"),console.log("[FRACTAL-AUTO-SYNC] Nouvelle URL:",t),window.history.replaceState({},"",t),console.log("[FRACTAL-AUTO-SYNC] âœ… URL synchronisÃ©e automatiquement"),console.log("[FRACTAL-AUTO-SYNC] Le tableau devrait maintenant Ãªtre visible dans Streamlit")}catch(e){console.log("[FRACTAL-AUTO-SYNC] âš ï¸  Erreur lors de la sync URL:",e)}}}()}window.addEventListener("load",function(){if(console.log("[FRACTAL] âœ… Page loaded"),y=document.getElementById("fractalCanvas")){g=y.getContext("2d"),console.log("[FRACTAL] âœ… Canvas and context ready"),m(),window.addEventListener("resize",m);var e=document.getElementById("backBtn"),t=document.getElementById("resetBtn");e&&e.addEventListener("click",M),t&&t.addEventListener("click",k),y.addEventListener("click",C),y.addEventListener("mousemove",L),y.addEventListener("mouseleave",F),console.log("[FRACTAL] âœ… Event listeners attached"),void 0!==window.hierarchyDataInjected?(n=window.hierarchyDataInjected,console.log("[FRACTAL] âœ… Hierarchy data injected:",Object.keys(n).length,"nodes"),r="TR",l=["TR"],b()):console.warn("[FRACTAL] âš ï¸  No hierarchy data injected yet")}else console.error("[FRACTAL] âŒ Canvas not found!")})}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{default:()=>o});var e=n(289),t=n.n(e);n(785),t().setComponentReady(),t().setFrameHeight(document.body.scrollHeight),window.addEventListener("resize",function(){t().setFrameHeight(document.body.scrollHeight)});const o={}})(),r})());